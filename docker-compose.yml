services:
  smoothbot:
    build:
      context: .
      args:
        SMOOTHBOT_UID: ${SMOOTHBOT_UID:-1000}
        SMOOTHBOT_GID: ${SMOOTHBOT_GID:-1000}
    user: "${SMOOTHBOT_UID:-1000}:${SMOOTHBOT_GID:-1000}"
    ports:
      - "3000:3000"
    volumes:
      - ${SMOOTHBOT_DATA_DIR:-./docker/smoothbot}:/smoothbot
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
      - OPENAI_API_KEY=${OPENAI_API_KEY:-}
      - OPENAI_COMPATIBLE_BASE_URL=${OPENAI_COMPATIBLE_BASE_URL:-}
      - OPENAI_COMPATIBLE_API_KEY=${OPENAI_COMPATIBLE_API_KEY:-}
      - OLLAMA_BASE_URL=${OLLAMA_BASE_URL:-http://host.docker.internal:11434}
    restart: unless-stopped
